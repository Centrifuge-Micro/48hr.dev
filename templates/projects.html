{{ template "top".}}

{{ template "nav".}}

<!-- Projects -->
<div class="container mx-auto px-4 flex justify-center items-center">
    <div class="max-w-screen-xl rounded-lg overflow-hidden bg-white mx-auto">

        <div id="cards" class="container mx-auto flex flex-wrap gap-4">
            {{ if .projects}}
            {{range .projects}}
            <div class="max-w-screen-xl rounded-lg border border-gray-200 overflow-hidden shadow-md bg-white p-4">
                <div class="p-4">
                    <div class="flex flex-row">
                        <h5 class="basis-1/3 text-2xl font-bold tracking-tight text-gray-900">{{.Title}}</h5>
                        <p class="basis-2/3 text-right">created on <b class="font-bold">{{.CreatedAt.Format "02 Jan 06 15:04 EST"}}</b></p>
                    </div>
                    <p class="mb-3 font-normal text-gray-700">{{.Short}}</p>
                    {{ if .NeedsBackend }}
                    <a
                            id="{{.ProjectID}}"
                            data-which="backend"
                            class="apply-button inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-bubble-gum rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
                        Looking for Backend
                    </a>
                    {{end}}

                    {{ if .NeedsFrontend }}
                    <a
                            id="{{.ProjectID}}"
                            data-which="frontend"
                            class="apply-button inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-tahiti rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
                        Looking for Frontend
                    </a>
                    {{end}}

                    {{ if .NeedsInfra}}
                    <a
                            id="{{.ProjectID}}"
                            data-which="infra"
                            class="apply-button inline-flex items-center px-3 py-2 text-sm font-medium text-center text-white bg-purple rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300">
                        Looking for Infrastructure
                    </a>
                    {{end}}

                    <p class="mb-3 font-normal mt-4"><a href="/user/{{.UserID}}">by {{.DisplayName}}</a></p>

                    <hr>

                    <div class="font-bold">Applicants</div>

                    {{ if eq (len .Applicants) 0}}
                    <p>Your project has no applicants.</p>
                    {{end}}

                    {{ range .Applicants}}
                    <div>{{ . }}</div>
                    {{end}}
                </div>
            </div>
            {{end}}
            {{else}}
            <p>You haven't created any projects yet!</p>
            {{end}}
        </div>

    </div>
</div>
<!-- End Projects -->

{{ template "bottom".}}
